const fs = require('fs');
const path = require('path');

//                                               nm ex ft pl ap pt ho sr
const wellKnownPathsPath = path.join(__dirname, '../../../../../../../../well-known-paths.json');
const wellKnownPaths = JSON.parse(fs.readFileSync(wellKnownPathsPath).toString());

function init() {
  return {
    create(info) {
      info.project.addMissingFileRoot(wellKnownPaths['ts_types_path']);

      return info.languageService;
    },
  };
}

module.exports = init;
